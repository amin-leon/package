"use strict";var e=require("react"),t=require("react-custom-roulette");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function u(r){var n=r.prizes,o=void 0===n?[]:n,a=r.fontColor,c=void 0===a?"#ffffff":a,u=r.onFinished,s=void 0===u?function(){}:u,d=r.wheelConfig,p=void 0===d?{}:d,f=l(e.useState(!1),2),m=f[0],b=f[1],g=l(e.useState(0),2),v=g[0],x=g[1],y=l(e.useState(null),2),h=y[0],C=y[1],E=i({spinDuration:1,backgroundColors:[],textDistance:60,fontSize:16},p);e.useCallback((function(){if(0!==o.length){var e=Math.floor(Math.random()*o.length);x(e),b(!0),C(null)}}),[o]);var w=e.useCallback((function(){b(!1);var e=o[v];C(e),s&&s(e,v)}),[o,v,s]),S=o.map((function(e){return{option:e.option,style:{backgroundColor:e.color,textColor:c||"#ffffff"}}}));return 0===o.length?e.createElement("div",null,"Add prizes to display the wheel"):e.createElement("div",{className:"prize-wheel-container"},e.createElement(t.Wheel,{mustStartSpinning:m,prizeNumber:v,data:S,onStopSpinning:w,spinDuration:E.spinDuration,backgroundColors:E.backgroundColors,textDistance:E.textDistance,fontSize:E.fontSize,radiusLineWidth:E.radiusLineWidth||1,pointerProps:E.pointerProps,innerRadius:E.innerRadius,innerBorderColor:E.innerBorderColor,innerBorderWidth:E.innerBorderWidth,outerBorderColor:E.outerBorderColor,outerBorderWidth:E.outerBorderWidth}),h&&!m&&e.createElement("div",{className:"prize-wheel-result"},e.createElement("p",null,"You won: ",h.option)))}function s(t){var r=t.onSpin,n=t.isSpinning,o=void 0!==n&&n,l=t.buttonStyle,a=void 0===l?{}:l,c=t.result,u=void 0===c?null:c;return e.createElement("div",{className:"wheel-controls"},e.createElement("button",{onClick:r,disabled:o,style:i({padding:"10px 20px",fontSize:"16px",fontWeight:"bold",borderRadius:"5px",backgroundColor:o?"#ccc":"#4CAF50",color:"#fff",border:"none",cursor:o?"not-allowed":"pointer",transition:"background-color 0.3s"},a)},o?"Spinning...":"Spin"),u&&!o&&e.createElement("div",{className:"wheel-result",style:{marginTop:"15px",padding:"10px",border:"2px solid ".concat(u.color||"#ccc"),borderRadius:"5px",textAlign:"center"}},e.createElement("p",{style:{margin:0,fontWeight:"bold"}},"You won: ",u.option)))}function d(t){var r=t.color,n=t.onChange,o=t.pickerComponent,a=void 0===o?null:o,c=t.style,u=void 0===c?{}:c,s=l(e.useState(!1),2),d=s[0],p=s[1];return e.createElement("div",{style:{position:"relative"}},e.createElement("div",{onClick:function(){return p(!d)},style:i({backgroundColor:r,width:30,height:30,cursor:"pointer",border:"1px solid #ccc",borderRadius:"3px"},u),"aria-label":"Select color",role:"button",tabIndex:0}),d&&e.createElement("div",{style:{position:"absolute",zIndex:10,background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"4px"},onClick:function(e){e.target===e.currentTarget&&p(!1)}},a?e.createElement(a,{color:r,onChange:function(e){var t="string"==typeof e?e:e.hex||e;n(t)}}):e.createElement("input",{type:"color",value:r,onChange:function(e){return n(e.target.value)},style:{width:"100px",height:"30px"}})))}var p=["#ff8f43","#70bbe0","#0b3351","#f9dd50","#e74c3c","#3498db","#2ecc71","#f1c40f","#9b59b6","#1abc9c","#e67e22","#34495e"];function f(t){var r=t.prizes,n=void 0===r?[]:r,o=t.onChange,i=t.colorPickerComponent,c=void 0===i?null:i,u=l(e.useState(""),2),s=u[0],f=u[1],m=function(){if(s.trim()){var e=p[n.length%p.length];o([].concat(a(n),[{option:s.trim(),color:e}])),f("")}},b=function(e,t){var r=a(n);r[e].color=t,o(r)},g=function(e,t){var r=a(n);r[e].option=t,o(r)};return e.createElement("div",{className:"prize-list"},e.createElement("div",{className:"prize-add-form",style:{display:"flex",marginBottom:"15px"}},e.createElement("input",{type:"text",placeholder:"Enter prize",value:s,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&m()},style:{flex:1,padding:"8px",borderRadius:"4px",border:"1px solid #ccc",marginRight:"10px"}}),e.createElement("button",{onClick:m,style:{padding:"8px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Add")),e.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},n.map((function(t,r){return e.createElement("li",{key:r,style:{display:"flex",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #eee"}},e.createElement("input",{type:"text",value:t.option,onChange:function(e){return g(r,e.target.value)},style:{flex:1,padding:"6px",marginRight:"10px",border:"1px solid #ddd",borderRadius:"3px"}}),e.createElement(d,{color:t.color,onChange:function(e){return b(r,e)},pickerComponent:c,style:{marginRight:"10px"}}),e.createElement("button",{onClick:function(){return function(e){var t=n.filter((function(t,r){return r!==e}));o(t)}(r)},style:{padding:"3px 8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"✕"))}))))}exports.AdminPanel=function(t){var r=t.initialPrizes,n=void 0===r?[]:r,o=t.initialFontColor,i=void 0===o?"#ffffff":o,a=t.onSave,c=void 0===a?null:a,p=t.colorPickerComponent,m=void 0===p?null:p,b=t.wheelConfig,g=void 0===b?{}:b,v=l(e.useState(n),2),x=v[0],y=v[1],h=l(e.useState(i),2),C=h[0],E=h[1],w=l(e.useState(!1),2),S=w[0],k=w[1],P=l(e.useState(null),2),N=P[0],z=P[1],O=l(e.useState(!1),2),j=O[0],A=O[1];return e.createElement("div",{className:"bg-white rounded-xl shadow-md p-6 space-y-6"},e.createElement("div",{className:"text-center"},e.createElement("h2",{className:"text-2xl font-bold text-blue-700"},"🎛️ Prize Wheel Configuration"),e.createElement("p",{className:"text-gray-500 text-sm"},"Set prizes, colors, and preview the wheel")),e.createElement("div",{className:"flex flex-col md:flex-row gap-8"},e.createElement("div",{className:"flex-1 space-y-6"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Font Color"),e.createElement("div",{className:"flex items-center gap-4"},e.createElement(d,{color:C,onChange:E,pickerComponent:m}),e.createElement("span",{className:"px-3 py-1 rounded text-sm",style:{backgroundColor:C,color:"#fff"}},"Aa Preview"))),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},"🎁 Prize List"),e.createElement(f,{prizes:x,onChange:y,colorPickerComponent:m})),e.createElement("div",{className:"flex gap-4"},e.createElement("button",{onClick:function(){c&&c({prizes:x,fontColor:C})},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"},"💾 Save Settings"),e.createElement("button",{onClick:function(){return A(!j)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition"},j?"🙈 Hide Preview":"👀 Show Preview"))),j&&e.createElement("div",{className:"flex-1 flex flex-col items-center space-y-4"},e.createElement("h3",{className:"text-lg font-semibold text-gray-700"},"🎡 Wheel Preview"),e.createElement("div",{className:"w-full max-w-sm"},e.createElement(u,{prizes:x,fontColor:C,onFinished:function(e){k(!1),z(e)},wheelConfig:g}),e.createElement("div",{className:"mt-4 text-center"},e.createElement(s,{onSpin:function(){k(!0),z(null)},isSpinning:S,result:N}))))))},exports.ColorPicker=d,exports.PrizeList=f,exports.PrizeWheel=u,exports.WheelControls=s,exports.defaultColors=p;
//# sourceMappingURL=index.js.map
