import e,{useState as t,useCallback as r}from"react";import{Wheel as n}from"react-custom-roulette";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function d(o){var i=o.prizes,l=void 0===i?[]:i,u=o.fontColor,s=void 0===u?"#ffffff":u,d=o.onFinished,p=void 0===d?function(){}:d,f=o.wheelConfig,m=void 0===f?{}:f,b=c(t(!1),2),g=b[0],v=b[1],y=c(t(0),2),h=y[0],x=y[1],E=c(t(null),2),C=E[0],w=E[1],S=a({spinDuration:1,backgroundColors:[],textDistance:60,fontSize:16},m);r((function(){if(0!==l.length){var e=Math.floor(Math.random()*l.length);x(e),v(!0),w(null)}}),[l]);var k=r((function(){v(!1);var e=l[h];w(e),p&&p(e,h)}),[l,h,p]),N=l.map((function(e){return{option:e.option,style:{backgroundColor:e.color,textColor:s||"#ffffff"}}}));return 0===l.length?e.createElement("div",null,"Add prizes to display the wheel"):e.createElement("div",{className:"prize-wheel-container"},e.createElement(n,{mustStartSpinning:g,prizeNumber:h,data:N,onStopSpinning:k,spinDuration:S.spinDuration,backgroundColors:S.backgroundColors,textDistance:S.textDistance,fontSize:S.fontSize,radiusLineWidth:S.radiusLineWidth||1,pointerProps:S.pointerProps,innerRadius:S.innerRadius,innerBorderColor:S.innerBorderColor,innerBorderWidth:S.innerBorderWidth,outerBorderColor:S.outerBorderColor,outerBorderWidth:S.outerBorderWidth}),C&&!g&&e.createElement("div",{className:"prize-wheel-result"},e.createElement("p",null,"You won: ",C.option)))}function p(t){var r=t.onSpin,n=t.isSpinning,o=void 0!==n&&n,i=t.buttonStyle,l=void 0===i?{}:i,c=t.result,u=void 0===c?null:c;return e.createElement("div",{className:"wheel-controls"},e.createElement("button",{onClick:r,disabled:o,style:a({padding:"10px 20px",fontSize:"16px",fontWeight:"bold",borderRadius:"5px",backgroundColor:o?"#ccc":"#4CAF50",color:"#fff",border:"none",cursor:o?"not-allowed":"pointer",transition:"background-color 0.3s"},l)},o?"Spinning...":"Spin"),u&&!o&&e.createElement("div",{className:"wheel-result",style:{marginTop:"15px",padding:"10px",border:"2px solid ".concat(u.color||"#ccc"),borderRadius:"5px",textAlign:"center"}},e.createElement("p",{style:{margin:0,fontWeight:"bold"}},"You won: ",u.option)))}function f(r){var n=r.color,o=r.onChange,i=r.pickerComponent,l=void 0===i?null:i,u=r.style,s=void 0===u?{}:u,d=c(t(!1),2),p=d[0],f=d[1];return e.createElement("div",{style:{position:"relative"}},e.createElement("div",{onClick:function(){return f(!p)},style:a({backgroundColor:n,width:30,height:30,cursor:"pointer",border:"1px solid #ccc",borderRadius:"3px"},s),"aria-label":"Select color",role:"button",tabIndex:0}),p&&e.createElement("div",{style:{position:"absolute",zIndex:10,background:"rgba(0,0,0,0.3)",padding:"10px",borderRadius:"4px"},onClick:function(e){e.target===e.currentTarget&&f(!1)}},l?e.createElement(l,{color:n,onChange:function(e){var t="string"==typeof e?e:e.hex||e;o(t)}}):e.createElement("input",{type:"color",value:n,onChange:function(e){return o(e.target.value)},style:{width:"100px",height:"30px"}})))}var m=["#ff8f43","#70bbe0","#0b3351","#f9dd50","#e74c3c","#3498db","#2ecc71","#f1c40f","#9b59b6","#1abc9c","#e67e22","#34495e"];function b(r){var n=r.prizes,o=void 0===n?[]:n,i=r.onChange,l=r.colorPickerComponent,a=void 0===l?null:l,s=c(t(""),2),d=s[0],p=s[1],b=function(){if(d.trim()){var e=m[o.length%m.length];i([].concat(u(o),[{option:d.trim(),color:e}])),p("")}},g=function(e,t){var r=u(o);r[e].color=t,i(r)},v=function(e,t){var r=u(o);r[e].option=t,i(r)};return e.createElement("div",{className:"prize-list"},e.createElement("div",{className:"prize-add-form",style:{display:"flex",marginBottom:"15px"}},e.createElement("input",{type:"text",placeholder:"Enter prize",value:d,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&b()},style:{flex:1,padding:"8px",borderRadius:"4px",border:"1px solid #ccc",marginRight:"10px"}}),e.createElement("button",{onClick:b,style:{padding:"8px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Add")),e.createElement("ul",{style:{listStyle:"none",padding:0,margin:0}},o.map((function(t,r){return e.createElement("li",{key:r,style:{display:"flex",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #eee"}},e.createElement("input",{type:"text",value:t.option,onChange:function(e){return v(r,e.target.value)},style:{flex:1,padding:"6px",marginRight:"10px",border:"1px solid #ddd",borderRadius:"3px"}}),e.createElement(f,{color:t.color,onChange:function(e){return g(r,e)},pickerComponent:a,style:{marginRight:"10px"}}),e.createElement("button",{onClick:function(){return function(e){var t=o.filter((function(t,r){return r!==e}));i(t)}(r)},style:{padding:"3px 8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"}},"âœ•"))}))))}function g(r){var n=r.initialPrizes,o=void 0===n?[]:n,i=r.initialFontColor,l=void 0===i?"#ffffff":i,a=r.onSave,u=void 0===a?null:a,s=r.colorPickerComponent,m=void 0===s?null:s,g=r.wheelConfig,v=void 0===g?{}:g,y=c(t(o),2),h=y[0],x=y[1],E=c(t(l),2),C=E[0],w=E[1],S=c(t(!1),2),k=S[0],N=S[1],P=c(t(null),2),z=P[0],O=P[1],j=c(t(!1),2),A=j[0],R=j[1];return e.createElement("div",{className:"bg-white rounded-xl shadow-md p-6 space-y-6"},e.createElement("div",{className:"text-center"},e.createElement("h2",{className:"text-2xl font-bold text-blue-700"},"ðŸŽ›ï¸ Prize Wheel Configuration"),e.createElement("p",{className:"text-gray-500 text-sm"},"Set prizes, colors, and preview the wheel")),e.createElement("div",{className:"flex flex-col md:flex-row gap-8"},e.createElement("div",{className:"flex-1 space-y-6"},e.createElement("div",null,e.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Font Color"),e.createElement("div",{className:"flex items-center gap-4"},e.createElement(f,{color:C,onChange:w,pickerComponent:m}),e.createElement("span",{className:"px-3 py-1 rounded text-sm",style:{backgroundColor:C,color:"#fff"}},"Aa Preview"))),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},"ðŸŽ Prize List"),e.createElement(b,{prizes:h,onChange:x,colorPickerComponent:m})),e.createElement("div",{className:"flex gap-4"},e.createElement("button",{onClick:function(){u&&u({prizes:h,fontColor:C})},className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"},"ðŸ’¾ Save Settings"),e.createElement("button",{onClick:function(){return R(!A)},className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition"},A?"ðŸ™ˆ Hide Preview":"ðŸ‘€ Show Preview"))),A&&e.createElement("div",{className:"flex-1 flex flex-col items-center space-y-4"},e.createElement("h3",{className:"text-lg font-semibold text-gray-700"},"ðŸŽ¡ Wheel Preview"),e.createElement("div",{className:"w-full max-w-sm"},e.createElement(d,{prizes:h,fontColor:C,onFinished:function(e){N(!1),O(e)},wheelConfig:v}),e.createElement("div",{className:"mt-4 text-center"},e.createElement(p,{onSpin:function(){N(!0),O(null)},isSpinning:k,result:z}))))))}export{g as AdminPanel,f as ColorPicker,b as PrizeList,d as PrizeWheel,p as WheelControls,m as defaultColors};
//# sourceMappingURL=index.esm.js.map
